# ======================
# ğŸ§± git-cliff é…ç½®æ–‡ä»¶ (æ”¹è¿›ç‰ˆ)
# ======================

[changelog]
# å®‰å…¨å¼ headerï¼šå½“ timestamp æ²¡æœ‰æ—¶ä¸ä¼šæŠ¥é”™
header = """
# [{{ version | default(value='Unreleased') }}]{% if timestamp %} - {{ timestamp | date(format='%Y-%m-%d') }}{% endif %}
"""
body = """
## Frontend
{% for group, commits in commits | group_by(attribute="group") %}
### {{ group | upper_first }}
{% for commit in commits %}
- {{ commit.message | upper_first }}{% if commit.links | length > 0 %} â€” {% for l in commit.links %}[{{ l.text }}]({{ l.href }}){% if not loop.last %}, {% endif %}{% endfor %}{% endif %} ([{{ commit.id | truncate(length=7, end="") }}](https://github.com/walnut-admin/walnut-admin-client/commit/{{ commit.id }}))
{% endfor %}
{% endfor %}
"""
footer = ""

[git]
# tag åŒ¹é…è§„åˆ™
tag_pattern = "v*"

# å…ˆä¿ç•™ä½ åŸæœ‰çš„ message preprocessï¼ˆå¦‚æœä½ ç¡®å®åœ¨ commit message é‡Œæœ‰ (#123) è¿™ç§æ ¼å¼çš„è¯å®ƒä¼šæ›¿æ¢æˆé“¾æ¥ï¼‰
commit_preprocessors = [ { pattern = "\\(#([0-9]+)\\)", replace = "([#${1}](https://github.com/walnut-admin/walnut-admin-client/pull/${1}))" } ]

# ç”¨ link_parsers æå– issue/PR ç¼–å·å¹¶ç”Ÿæˆ commit.linksï¼ˆæ¨¡æ¿ä¸­å·²ç»æ¸²æŸ“äº† commit.linksï¼‰
link_parsers = [
  # æ•è·å¸¸è§çš„ "#123" å½¢å¼
  { pattern = "#(\\d+)", href = "https://github.com/walnut-admin/walnut-admin-client/issues/$1" },
  # æ•è· "Merge pull request #123" ç±»å‹çš„åˆå¹¶ commit
  { pattern = "Merge pull request #([0-9]+)", href = "https://github.com/walnut-admin/walnut-admin-client/pull/$1" },
  # å¦‚æœä½ æœ‰ PR æ ¼å¼ä¸º "PR #123" çš„æƒ…å†µä¹Ÿæ”¯æŒ
  { pattern = "PR #(\\d+)", href = "https://github.com/walnut-admin/walnut-admin-client/pull/$1" }
]

# commit åˆ†ç»„è§„åˆ™ï¼ˆæ ¹æ® Conventional Commitsï¼‰
commit_parsers = [
  { message = "^feat", group = "âœ¨ Features" },
  { message = "^fix", group = "ğŸ› Bug Fixes" },
  { message = "^perf", group = "âš¡ Performance" },
  { message = "^refactor", group = "ğŸ”§ Refactor" },
  { message = "^docs", group = "ğŸ“ Documentation" },
  { message = "^test", group = "âœ… Tests" },
  { message = "^style", group = "ğŸ¨ Style" },
  { message = "^chore", group = "ğŸ”© Chores" },
  { message = "^wip", group = "ğŸš§ WIP" },
  { message = ".*", group = "ğŸ“¦ Misc" }
]
